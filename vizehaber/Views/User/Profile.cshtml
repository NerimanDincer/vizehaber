@model vizehaber.Models.User

@{
    ViewData["Title"] = "Profilim";
    // Layout belirtmeye gerek yok, _ViewStart hallediyor ama garanti olsun dersen:
    // Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="container-fluid">

    <div class="row justify-content-center">

        <div class="col-xl-6 col-lg-8 col-md-10">
            <div class="card shadow mb-4 border-bottom-primary">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Kullanıcı Bilgileri</h6>
                </div>

                <div class="card-body text-center">

                    <div class="mb-4">
                        <img class="img-profile rounded-circle shadow-sm"
                             src="@(Model.PhotoPath ?? "/sbadmin/img/undraw_profile.svg")"
                             style="width: 150px; height: 150px; object-fit: cover; border: 4px solid #f8f9fc;">
                    </div>

                    <h3 class="font-weight-bold text-gray-900">@Model.FullName</h3>
                    <p class="text-muted mb-3">@@@Model.UserName</p> <div class="mb-4">
                        @if (Model.Role == "Admin")
                        {
                            <span class="badge badge-danger px-3 py-2">Yönetici (Admin)</span>
                        }
                        else if (Model.Role == "Writer")
                        {
                            <span class="badge badge-success px-3 py-2">Yazar</span>
                        }
                        else
                        {
                            <span class="badge badge-secondary px-3 py-2">Okuyucu</span>
                        }
                    </div>

                    <hr>

                    <div class="text-left mt-4 px-4">
                        <div class="row mb-3">
                            <div class="col-md-4 font-weight-bold text-gray-800">
                                <i class="fas fa-envelope mr-2"></i> E-posta:
                            </div>
                            <div class="col-md-8">
                                @Model.Email
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-4 font-weight-bold text-gray-800">
                                <i class="fas fa-calendar-alt mr-2"></i> Kayıt Tarihi:
                            </div>
                            <div class="col-md-8">
                                @Model.CreatedDate.ToString("dd MMMM yyyy")
                            </div>
                        </div>

                        @if (!string.IsNullOrEmpty(Model.Biography))
                        {
                            <div class="row mb-3">
                                <div class="col-md-4 font-weight-bold text-gray-800">
                                    <i class="fas fa-book-open mr-2"></i> Biyografi:
                                </div>
                                <div class="col-md-8">
                                    <div class="p-3 bg-gray-100 rounded">
                                        @Model.Biography
                                    </div>
                                </div>
                            </div>
                        }
                    </div>

                    <a asp-action="EditProfile" class="btn btn-warning">Düzenle</a>

                    <div class="mt-4">
                        <a asp-controller="Home" asp-action="Index" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Anasayfaya Dön
                        </a>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>